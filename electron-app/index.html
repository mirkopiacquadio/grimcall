<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <title>GrimCall - Totem</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>
        Benvenuto su GRIM
      </h1>
      <div class="account-box">
        <button id="logoutBtn" style="display: none">🔚 Logout</button>
        <button id="operatorLoginBtn" class="icon-button">👤</button>
      </div>
    </header>

    <main id="loginView">
      <div class="center-box">
        <div id="operatorForm" style="display: none">
          <h2>Accedi al servizio</h2>
          <input type="text" id="operatorNameInput" placeholder="Nome Operatore" />
          <button onclick="loginAsOperator()">Accedi come Operatore</button>
        </div>
        <button onclick="loginAsGuest()">📞 VIDEOCHIAMA UN OPERATORE</button>
      </div>
    </main>

    <main id="userListView" style="display: none">
      <h2 id="welcomeTitle"></h2>
      <div id="operatorList" class="card-container"></div>
    </main>

    <div id="incomingCallPopup" class="popup" style="display: none">
      <div class="popup-content">
        <h2>📞 Chiamata in arrivo</h2>
        <p id="callerNameText"></p>
        <button id="acceptCallBtn">✅ Accetta</button>
        <button id="rejectCallBtn">❌ Rifiuta</button>
      </div>
    </div>

    <footer class="app-footer">
      <p>
        <span id="grimTitle">Prodotto</span> realizzato da 
        <span id="ing" class="highlight-name">Ing. Piacquadio Mirko</span>
      </p>
    </footer>

    <script src="renderer.js"></script>
    <script>
      const ing = document.getElementById("ing");
      const operatorLoginBtn = document.getElementById("operatorLoginBtn");
      let grimClickCount = 0;

      operatorLoginBtn.style.display = "none"; // Nascondi di default

      ing.onclick = () => {
        grimClickCount++;
        if (grimClickCount >= 10) {
          operatorLoginBtn.style.display = "inline-block";
          grimClickCount = 0;
        }
      };
    </script>
  </body>
</html>
